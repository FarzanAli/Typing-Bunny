(this["webpackJsonptyping-test"]=this["webpackJsonptyping-test"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},234:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ae}));var s=a(18),n=a.n(s),l=a(25),c=a(5),r=a(6),i=a(8),o=a(7),u=a(1),d=a(50),h=a.n(d),m=(a(119),a(9)),p=(a(120),a(76),a(121),a(26)),b=(a(122),a.p+"static/media/boop-on.bc242be4.mp3"),g=a(2),j=function(e){var t=function(t){if(1!==document.getElementsByClassName(e.title+"-toggle").length)for(var a=0;a<document.getElementsByClassName(e.title+"-toggle").length;a++)document.getElementsByClassName(e.title+"-toggle").item(a).checked&&a!==parseInt(t.target.id)&&(document.getElementsByClassName(e.title+"-toggle").item(a).checked=!1),!1===document.getElementsByClassName(e.title+"-toggle").item(a).checked&&a===parseInt(t.target.id)&&(document.getElementsByClassName(e.title+"-toggle").item(a).checked=!0);"Theme"===e.title&&document.documentElement.setAttribute("neumorphism","true"===document.documentElement.getAttribute("neumorphism")?"false":"true"),"Auto-Stop"===e.title&&e.autoStopCallback(document.getElementsByClassName(e.title+"-toggle").item(0).checked),"Format"===e.title&&e.boxCallback(document.getElementsByClassName(e.title+"-toggle").item(1).checked),"Cursor"===e.title&&e.cursorFilledCallback(document.getElementsByClassName(e.title+"-toggle").item(0).checked),"Errors"===e.title&&e.errorsFilledCallback(document.getElementsByClassName(e.title+"-toggle").item(0).checked)},a=Object(p.a)(b),s=Object(m.a)(a,1)[0];return"Theme"===e.title?e.toggle[0].checked="true"===document.documentElement.getAttribute("neumorphism")?"checked":"":"Auto-Stop"===e.title?e.toggle[0].checked=e.autoStop:"Format"===e.title?(e.toggle[0].checked=!e.box,e.toggle[1].checked=e.box):"Cursor"===e.title?e.toggle[0].checked=e.cursorFilled:"Errors"===e.title&&(e.toggle[0].checked=e.errorsFilled),Object(g.jsx)("div",{className:"toggle-container",children:e.toggle.map((function(a,n){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("label",{className:"label-container",children:[Object(g.jsx)("input",{className:e.title+"-toggle",type:"checkbox",defaultChecked:a.checked,id:n,onChange:t,onClick:function(){e.mute||s()}}),Object(g.jsx)("span",{className:"custom-toggle"}),Object(g.jsx)("div",{className:"description-container",children:a.name})]}),Object(g.jsx)("br",{})]},n)}))})},x=(a(124),a(125),a(112)),y=function(e){return Object(g.jsx)("div",{className:"color-picker-container",children:Object(g.jsx)(x.a,{width:200,color:e.cursorColor,onChange:function(t){e.colorCallback(t)},disableAlpha:!0,presetColors:[]})})},O=function(e){var t=Object(u.useState)(!1),a=Object(m.a)(t,2),s=a[0],n=a[1],l=Object(u.useState)(getComputedStyle(document.documentElement).getPropertyValue(e.palette.cssVariable)),c=Object(m.a)(l,2),r=c[0],i=c[1],o=function(t){for(var a=0;a<document.getElementsByClassName(e.palette.name+"-color").length;a++)document.getElementsByClassName(e.palette.name+"-color").item(a).checked&&a!==parseInt(t.target.id)&&(document.getElementsByClassName(e.palette.name+"-color").item(a).checked=!1),!1===document.getElementsByClassName(e.palette.name+"-color").item(a).checked&&a===parseInt(t.target.id)&&(document.getElementsByClassName(e.palette.name+"-color").item(a).checked=!0);t.target.id===(document.getElementsByClassName(e.palette.name+"-color").length-1).toString()&&n(!s),""!==t.target.style.backgroundColor&&i(t.target.style.backgroundColor)};return Object(u.useEffect)((function(){document.documentElement.style.setProperty(e.palette.cssVariable,r)}),[r,s,e.palette.cssVariable]),window.onclick=function(e){"option-box-container"===e.target.className&&n(!1),"custom-color-button"===e.target.className&&n(!s),"settings-container"===e.target.className&&document.getElementsByClassName("settings-button-container").item(0).click()},Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"palette-container",children:e.palette.array.map((function(t,a){return 0===a?Object(g.jsxs)("label",{className:"color-container",style:{marginLeft:"0px"},children:[Object(g.jsx)("input",{className:e.palette.name+"-color",type:"checkbox",defaultChecked:t.checked,id:a,style:{backgroundColor:t.color},onChange:o}),Object(g.jsx)("span",{className:"custom-color-toggle",style:{backgroundColor:t.color}}),Object(g.jsx)("br",{})]},a):a===e.palette.array.length-1?Object(g.jsxs)("label",{className:"color-container",style:{marginRight:"0px"},children:[Object(g.jsx)("input",{className:e.palette.name+"-color",type:"checkbox",defaultChecked:t.checked,id:a,style:{backgroundColor:t.color},onChange:o}),Object(g.jsx)("span",{className:"custom-color-toggle",style:{backgroundColor:t.color}}),Object(g.jsx)("br",{})]},a):Object(g.jsxs)("label",{className:"color-container",children:[Object(g.jsx)("input",{className:e.palette.name+"-color",type:"checkbox",defaultChecked:t.checked,id:a,style:{backgroundColor:t.color},onChange:o}),Object(g.jsx)("span",{className:"custom-color-toggle",style:{backgroundColor:t.color}}),Object(g.jsx)("br",{})]},a)}))}),Object(g.jsxs)("div",{className:"custom-color-container",children:[Object(g.jsxs)("div",{className:"custom-color-button",onClick:o,children:["Custom",Object(g.jsxs)("label",{className:"color-container",children:[Object(g.jsx)("input",{className:e.palette.name+"-color",type:"checkbox",defaultChecked:"",style:{backgroundColor:r},onClick:o}),Object(g.jsx)("span",{className:"custom-color-toggle",style:{backgroundColor:r},id:e.palette.array.length})]})]}),!0===s&&Object(g.jsx)("div",{className:"color-picker-container",children:Object(g.jsx)(y,{cssVariable:e.cssVariable,palette:e.palette.array,cursorColor:r,colorCallback:function(e){i(e.hex)}.bind(undefined)})})]})]})},k=function(e){return Object(g.jsxs)("div",{className:"option-box-container",children:[Object(g.jsx)("div",{className:"option-title",children:e.title}),0!==e.toggle.length&&Object(g.jsx)(j,{toggle:e.toggle,title:e.title,mute:e.mute,autoStopCallback:e.autoStopCallback,autoStop:e.autoStop,boxCallback:e.boxCallback,box:e.box,cursorFilledCallback:e.cursorFilledCallback,cursorFilled:e.cursorFilled,errorsFilledCallback:e.errorsFilledCallback,errorsFilled:e.errorsFilled}),0!==e.palette.length&&Object(g.jsx)(O,{palette:e.palette,mute:e.mute})]})},f=void 0,C=function(e){var t=Object(u.useState)(!1),a=Object(m.a)(t,2),s=a[0],n=a[1];return!0===e.isopen&&!1===s&&n(!0),Object(g.jsx)(g.Fragment,{children:!0===s&&Object(g.jsx)("div",{className:"settings-container",isopen:e.isopen.toString(),children:Object(g.jsxs)("div",{className:"settings-options",onAnimationEnd:function(e){"slide-out-options"===e.animationName&&n(!s)},isopen:e.isopen.toString(),children:[Object(g.jsxs)("div",{className:"settings-option-column",children:[Object(g.jsx)(k,{title:"Format",toggle:[{name:"Highlight Text",checked:"checked"},{name:"Typing Box",checked:""}],palette:[],mute:e.mute,boxCallback:e.boxCallback.bind(f),box:e.box}),Object(g.jsx)(k,{title:"Theme",toggle:[{name:"Neumorphism",checked:"checked"}],palette:[],mute:e.mute}),Object(g.jsx)(k,{title:"Errors",toggle:[],palette:{name:"error",array:[{color:"rgb(255, 52, 52)",checked:"checked"},{color:"#7EFF29",checked:""},{color:"#FFB300",checked:""},{color:"#00FFED",checked:""}],cssVariable:"--error-color"},mute:e.mute,errorsFilledCallback:e.errorsFilledCallback,errorsFilled:e.errorsFilled})]}),Object(g.jsxs)("div",{className:"settings-option-column",children:[!1===e.box&&Object(g.jsx)(k,{title:"Auto-Stop",toggle:[{name:"Stops cursor on error",checked:""}],palette:[],mute:e.mute,autoStopCallback:e.autoStopCallback.bind(f),autoStop:e.autoStop}),Object(g.jsx)(k,{title:"Cursor",toggle:[],palette:{name:"cursor",array:[{color:"#8929ff9a",checked:"checked"},{color:"#7EFF29",checked:""},{color:"#FFB300",checked:""},{color:"#00FFED",checked:""}],cssVariable:"--cursor-color"},mute:e.mute,cursorFilledCallback:e.cursorFilledCallback,cursorFilled:e.cursorFilled})]})]})})})},v=a(108),N=a.p+"static/media/gear-1.0e162c62.mp3",E=void 0,T=function(e){var t=Object(u.useState)(!1),a=Object(m.a)(t,2),s=a[0],n=a[1],l=Object(p.b)(N,{volume:.5,playbackRate:1.5}),c=Object(m.a)(l,1)[0];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"settings-button-container",onClick:function(){n(!s),e.mute||c()},children:Object(g.jsx)(v.a,{className:"gear",isopen:s.toString()})}),Object(g.jsx)(C,{isopen:s,mute:e.mute,autoStopCallback:e.autoStopCallback.bind(E),autoStop:e.autoStop,boxCallback:e.boxCallback.bind(E),box:e.box,cursorFilledCallback:e.cursorFilledCallback,cursorFilled:e.cursorFilled,errorsFilledCallback:e.errorsFilledCallback,errorsFilled:e.errorsFilled})]})},S=a(27),B=a(109),w=a.p+"static/media/light-switch-on.d1b5cc23.mp3",F=a.p+"static/media/light-switch-off.07278c1f.mp3",L=function(e){var t=Object(u.useState)(!1),a=Object(m.a)(t,2),s=a[0],n=a[1],l=Object(p.a)(w,{playbackRate:1.2}),c=Object(m.a)(l,1)[0],r=Object(p.a)(F),i=Object(m.a)(r,1)[0];return Object(u.useEffect)((function(){s?document.documentElement.setAttribute("theme","light"):document.documentElement.setAttribute("theme","dark"),document.documentElement.classList.add("transition"),window.setTimeout((function(){document.documentElement.classList.remove("transition")}),1e3)}),[s,c,i]),document.addEventListener("click",(function(e){"[object HTMLButtonElement]"===document.activeElement.toString()&&document.activeElement.blur()})),Object(g.jsxs)("div",{onClick:function(){n(!s),e.mute||(s?c():i())},children:[!1===s&&Object(g.jsx)(S.c,{style:{width:"75%",height:"75%"}}),s&&Object(g.jsx)(B.a,{style:{width:"83%",height:"83%"}})]})},I=a(36),A=a.p+"static/media/mute.db617521.mp3",P=function(e){var t=Object(u.useState)(!1),a=Object(m.a)(t,2),s=a[0],n=a[1],l=Object(p.b)(A),c=Object(m.a)(l,1)[0];return Object(u.useEffect)((function(){e.muteCallback(s)}),[s]),Object(g.jsxs)("div",{onClick:function(){n(!s),s&&c()},children:[!0===s&&Object(g.jsx)(I.c,{style:{width:"100%",height:"100%"}}),!1===s&&Object(g.jsx)(I.b,{style:{width:"100%",height:"100%"}})]})},M=(a(234),a(28)),R=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).paste=s.paste.bind(Object(M.a)(s)),s}return Object(r.a)(a,[{key:"paste",value:function(){var e=Object(l.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:a=e.sent,t.value=a,0!==t.value.length&&this.props.handlePasteCallback(t.value);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsx)("div",{className:"paste-container",onClick:this.paste,children:Object(g.jsx)(S.d,{style:{width:"65%",height:"65%",color:"#868686"}})})}}]),a}(u.Component),D=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"next-container",onClick:this.props.handleNextTextCallback,children:Object(g.jsx)(I.a,{style:{width:"70%",height:"70%",color:"var(--icon-color)"}})})}}]),a}(u.Component),V=a(110),H=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"restart-container",onClick:this.props.restartCallback,children:Object(g.jsx)(V.a,{style:{width:"50%",height:"50%",color:"var(--icon-color)"}})})}}]),a}(u.Component),J=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"stats-container",children:[Object(g.jsxs)("div",{className:"accuracy-container",children:["Accuracy",Object(g.jsx)("div",{className:"accuracy",children:isNaN(Math.round(this.props.accuracy))?0:Math.round(this.props.accuracy)})]}),Object(g.jsxs)("div",{className:"wpm-container",children:["WPM",Object(g.jsx)("div",{className:"wpm",children:isNaN(Math.round(this.props.wpm))?0:Math.round(this.props.wpm)})]})]})}}]),a}(u.Component),U=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"header-container",children:[Object(g.jsxs)("div",{className:"header-buttons-container",children:[Object(g.jsx)(R,{handlePasteCallback:this.props.handlePasteCallback.bind(this)}),Object(g.jsx)(D,{handleNextTextCallback:this.props.handleNextTextCallback}),Object(g.jsx)(H,{restartCallback:this.props.restartCallback})]}),Object(g.jsx)(J,{wpm:this.props.wpm,accuracy:this.props.accuracy})]})}}]),a}(u.Component),z=a(12),W=a(37);var Z=function(e){var t=Object(z.g)();return Object(g.jsx)(g.Fragment,{children:"/account"==t.pathname||"/login"==t.pathname?Object(g.jsx)(W.b,{to:"/",children:Object(g.jsx)("div",{children:Object(g.jsx)(S.b,{style:{width:"80%",height:"80%"}})})}):Object(g.jsx)("div",{style:{marginTop:"5px"},onClick:function(){},children:Object(g.jsx)(W.b,{to:"/account",className:"Link",children:Object(g.jsx)(S.e,{style:{width:"80%",height:"80%"}})})})})},q=a(16),Y=function(e){var t=[];if(1===e.typingText.length)t.push(e.typingText[0]);else for(var a=0;a<e.typingText.length;a++)if(0===a||" "===e.typingText[a]){" "===e.typingText[a]&&(a+=1);for(var s=a;s<e.typingText.length;s++)" "!==e.typingText[s]&&s!==e.typingText.length-1||(t.push(e.typingText.slice(a,s+1)),a=s+1)}var n=t.map((function(t,a){return Object(g.jsx)("div",{className:"word",id:a,children:Object(q.a)(t).map((function(t,s){return 0===a&&0===s&&0===e.input.length?Object(g.jsx)("div",{className:"letter-active",id:s,children:t},s):" "===t?Object(g.jsx)("div",{className:"letter",id:s,children:"\xa0"},s):Object(g.jsx)("div",{className:"letter",id:s,children:t},s)}))},a)}));if(0===e.input.length&&document.getElementsByClassName("letter-error").length>0)for(var l=0;l<document.getElementsByClassName("letter-error").length;l++)document.getElementsByClassName("letter-error").item(l).className="letter";if(0===e.input.length&&document.getElementsByClassName("letter-active").length>1&&e.runTimer)document.getElementsByClassName("letter-active").item(1).className="letter";else if(e.input.length>0&&e.input.length<e.typingText.length&&e.runTimer){for(var c=0,r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){if(c===e.input.length){if(void 0!==document.getElementsByClassName("letter-active")[1]&&(i<document.getElementsByClassName("letter-active")[1].id||i>document.getElementsByClassName("letter-active")[1].id)&&(document.getElementsByClassName("letter-active")[1].className="letter"),document.getElementsByClassName("letter-active").length>1)for(var o=0;o<document.getElementsByClassName("letter-active").length;o++)i!==document.getElementsByClassName("letter-active").item(o).id&&(document.getElementsByClassName("letter-active").item(o).className="letter");document.getElementsByClassName("word").item(r).children[i].className="letter-active"}"letter-error"===document.getElementsByClassName("word").item(r).children[i].className&&c>e.input.length&&(document.getElementsByClassName("word").item(r).children[i].className="letter",document.getElementsByClassName("letter-active").length>1&&(document.getElementsByClassName("letter-active").item(1).className="letter")),c++}for(var u=0,d=0;d<t.length;d++)for(var h=0;h<t[d].length;h++)u<e.input.length&&("&nbsp;"===document.getElementsByClassName("word").item(d).children[h].innerHTML&&" "!==e.input[u]||document.getElementsByClassName("word").item(d).children[h].innerHTML!==e.input[u]&&"&nbsp;"!==document.getElementsByClassName("word").item(d).children[h].innerHTML)&&(document.getElementsByClassName("word").item(d).children[h].className="letter-error"),u++}else e.input.length===e.typingText.length&&!0===e.runTimer&&(e.input[e.input.length-1]!==e.typingText[e.input.length-1]&&!1===e.handledErrors.includes(e.input.length-1)?document.getElementsByClassName("letter-active").length>0&&(document.getElementsByClassName("letter-active").item(0).className="letter-error",e.handledErrorsCallback(e.input.length-1)):e.input[e.input.length-1]===e.typingText[e.input.length-1]&&document.getElementsByClassName("letter-active").length>0&&(document.getElementsByClassName("letter-active").item(0).className="letter-finished"));return Object(g.jsx)("div",{className:"typing-text",children:n})},$=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={keys:[]},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){if(e.props.input.length<e.props.typingText.length){e.props.autoStop&&0!==e.props.errors&&"Backspace"!==t.key||e.keyboardInput(t.key);var a=e.state.keys;a.push(t.key),e.setState({keys:a},(function(){"Control"===e.state.keys[e.state.keys.length-2]&&e.props.inputCallback(e.state.keys)}))}})),document.addEventListener("keyup",(function(t){for(var a=e.state.keys,s=0;s<a.length;s++)a[s]===t.key&&a.splice(s,1);e.setState({keys:a})}))}},{key:"keyboardInput",value:function(e){"Backspace"===e&&this.props.input.length<this.props.typingText.length&&!this.props.box?this.props.inputCallback(e):1===e.length&&this.props.input.length<this.props.typingText.length&&(0===this.props.input.length&&0==this.props.box&&this.props.toggleRunTimerCallback(!0),this.props.box||this.props.inputCallback(e)),this.props.input.length===this.props.typingText.length&&this.props.runTimer&&this.props.toggleRunTimerCallback(!1);for(var t=0,a=0;a<this.props.input.length;a++)this.props.input[a]!==this.props.typingText[a]&&t++,a===this.props.input.length-1&&this.props.errorsCallback(t)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"typing-box",children:Object(g.jsx)(Y,{input:this.props.input,typingText:this.props.typingText,handledErrors:this.props.handledErrors,runTimer:this.props.runTimer,handledErrorsCallback:this.props.handledErrorsCallback})})}}]),a}(u.Component),G=(a(237),function(e){return Object(g.jsx)("div",{className:"box-container",children:Object(g.jsx)("input",{autoFocus:!0,placeholder:"Type here...",type:"text",className:"input-box",spellCheck:"false",value:/\S/.test(e.input)?-1===e.input.indexOf(" ")?e.input:e.input.slice(e.input.lastIndexOf(" ")+1,e.input.length):e.input,onChange:function(t){return function(t){(" "===t.target.value[t.target.value.length-1]&&e.typingText.slice(0,e.input.length+1)===e.input+t.target.value[t.target.value.length-1]||" "!==t.target.value[t.target.value.length-1])&&e.boxInputCallback(t.target.value,"set")}(t)}})})}),K=a.p+"static/media/bunnyboi.c405bc4f.svg",Q=(a(238),a(17)),X=(a(103),function(e){var t=Object(u.useState)(""),a=Object(m.a)(t,2),s=a[0],c=a[1],r=Object(u.useState)(""),i=Object(m.a)(r,2),o=i[0],d=i[1],h=Object(u.useState)(""),p=Object(m.a)(h,2),b=p[0],j=p[1],x=Object(u.useState)(""),y=Object(m.a)(x,2),O=y[0],k=y[1],f=Object(u.useState)(""),C=Object(m.a)(f,2),v=C[0],N=C[1],E=Object(u.useState)(""),T=Object(m.a)(E,2),S=T[0],B=T[1],w=Object(u.useState)(""),F=Object(m.a)(w,2),L=F[0],I=F[1],A=function(){return Q.b.error("Unexpected error")},P=function(){return Q.b.error("Invalid email")},M=/^[a-zA-Z0-9]+$/,R=function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},D=function(){var t=Object(l.a)(n.a.mark((function t(){var a,l,c,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,b!==o&&(Q.b.error("Email does not match"),a=!1),v!==O&&(Q.b.error("Passwords dont match"),a=!1),console.log(M.test(s)),0==M.test(s)&&(Q.b.error("Username can only contain alphanumeric characters"),a=!1),s.length>16&&(Q.b.error("Username must be less than or equal to 16 characters"),a=!1),R(o)||(P(),a=!1),a){t.next=9;break}return t.abrupt("return");case 9:return(l={}).username=s,l.email=o,l.hash=O,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},t.next=16,fetch("/user/signup",c);case 16:202===(r=t.sent).status?Q.b.error("Username and email already exists"):203===r.status?Q.b.error("Email already exists"):204===r.status?Q.b.error("Username already exists"):201===r.status?(e.setCredentials({username:s,email:o}),e.handleLogin()):A();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(l.a)(n.a.mark((function t(){var a,s,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,R(S)||(P(),a=!1),a){t.next=4;break}return t.abrupt("return");case 4:(s={}).email=S,s.password=L,l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},fetch("/user/login",l).then((function(t){return 202===t.status?e.handleLogin():203===t.status?Q.b.error("Invalid credentials"):A(),t.json()})).then((function(t){e.setCredentials(t)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Q.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),Object(g.jsxs)("div",{className:"login-page",children:[Object(g.jsxs)("div",{className:"fields",children:[Object(g.jsx)("input",{type:"text",placeholder:"username",onChange:function(e){return c(e.target.value)}}),Object(g.jsx)("input",{type:"text",placeholder:"email",onChange:function(e){return d(e.target.value)}}),Object(g.jsx)("input",{type:"text",placeholder:"verify email",onChange:function(e){return j(e.target.value)}}),Object(g.jsx)("input",{type:"text",placeholder:"password",onChange:function(e){return k(e.target.value)}}),Object(g.jsx)("input",{type:"text",placeholder:"verify password",onChange:function(e){return N(e.target.value)}}),Object(g.jsx)("button",{onClick:D,children:"Sign Up"})]}),Object(g.jsx)("p",{children:"OR"}),Object(g.jsxs)("div",{className:"fields",children:[Object(g.jsx)("input",{type:"text",placeholder:"email",onChange:function(e){return B(e.target.value)}}),Object(g.jsx)("input",{type:"text",placeholder:"password",onChange:function(e){return I(e.target.value)}}),Object(g.jsx)("button",{onClick:V,children:"Login"})]})]})]})}),_=(a(239),a(14)),ee=a(113),te=function(e){var t=Object(u.useState)([]),a=Object(m.a)(t,2),s=a[0],c=a[1],r=Object(u.useState)([]),i=Object(m.a)(r,2),o=i[0],d=i[1],h=Object(u.useState)([]),p=Object(m.a)(h,2),b=p[0],j=p[1],x=Object(u.useState)([]),y=Object(m.a)(x,2),O=y[0],k=y[1],f=Object(u.useState)(),C=Object(m.a)(f,2),v=(C[0],C[1],function(){var t=Object(l.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.credentials)},fetch("/account/stats",a).then((function(e){return e.json()})).then((function(e){c(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());Object(u.useEffect)((function(){""!=e.credentials.username&&v()}),[e.credentials]),_.d.register(_.c,_.h,_.j,_.g,_.n,_.o),Object(u.useEffect)((function(){d(s.map((function(e){return new Date(e.timestamp).toLocaleString()}))),j(s.map((function(e){return e.wpm}))),k(s.map((function(e){return e.accuracy})))}),[s]);var N={labels:o,datasets:[{data:b,borderColor:"#844ec7",backgroundColor:"#c8a1f7",tension:.3,yAxisID:"y",label:"wpm"},{data:O,borderColor:"rgb(90, 90, 90)",backgroundColor:"rgb(190, 190, 190)",tension:.3,yAxisID:"y1",label:"accuracy"}]},E={type:"line",data:N,responsive:!0,interaction:{mode:"index"},stacked:!1,scales:{x:{display:!1},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Words Per Minute (WPM)",color:"#844ec7"},grid:{color:"#4a4a4a"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"Accuracy (%)"}}},plugins:{tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t+": "+e.parsed.y}}}}};return Object(g.jsxs)(g.Fragment,{children:[o.length>1&&Object(g.jsxs)("div",{className:"account-container",children:[Object(g.jsxs)("div",{className:"username",children:["Welcome back, ",e.credentials.username]}),Object(g.jsx)("div",{className:"graph-container",children:Object(g.jsx)("div",{className:"graph",children:Object(g.jsx)(ee.a,{options:E,data:N})})}),Object(g.jsx)("div",{className:"stats",children:Object(g.jsxs)("div",{className:"text",children:["You have completed ",Object(g.jsx)("div",{className:"stat",children:o.length})," tests"]})}),Object(g.jsx)("button",{onClick:function(){return e.handleLogout()},children:"Log Out"})]}),o.length<2&&Object(g.jsxs)("div",{className:"account-container",children:[Object(g.jsxs)("div",{className:"text",children:["Must complete atleast ",Object(g.jsx)("div",{className:"stat",children:"2"})," tests to view stats"]}),Object(g.jsxs)("div",{className:"text",children:["You have completed ",Object(g.jsx)("div",{className:"stat",children:o.length})," tests"]})]})]})},ae=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).handleLogin=function(){Object(Q.b)("Logged in"),s.setState({loggedIn:!0})},s.handleLogout=function(){Object(Q.b)("Logged out"),s.setState({loggedIn:!1})},s.state={input:"",typingText:'"Do not go gentle into that good night; Old age should burn and rave at close of day. Rage, rage against the dying of the light." -Dylan Thomas, as quoted by Professor Brand',sampleTexts:["","test","123","321"],runTimer:!1,seconds:0,wpm:0,accuracy:0,handledErrors:[],mute:!1,box:!0,wordArray:[],cursorFilled:!1,errorsFilled:!1,loggedIn:!1,showNotification:!0,notificationData:[],credentials:{email:"",username:""}},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"resetTest",value:function(){for(this.setState({input:"",runTimer:!1,seconds:0,wpm:0,accuracy:0,errors:0,handledErrors:[]});document.getElementsByClassName("letter-active").length>0;)document.getElementsByClassName("letter-active").item(0).className="letter";for(;document.getElementsByClassName("letter-error").length>0;)document.getElementsByClassName("letter-error").item(0).className="letter";for(;document.getElementsByClassName("letter-finished").length>0;)document.getElementsByClassName("letter-finished").item(0).className="letter";document.getElementsByClassName("word").item(0).children[0].className="letter-active",null!==document.getElementsByClassName("input-box").item(0)&&(document.getElementsByClassName("input-box").item(0).disabled=!1)}},{key:"sendData",value:function(){var e=Object(l.a)(n.a.mark((function e(){var t,a,s,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=(new window.Date).toISOString().slice(0,19).replace("T"," "),t.username=this.state.credentials.username,t.email=this.state.credentials.email,t.timeStamp=a,t.wpm=this.state.wpm,t.accuracy=this.state.accuracy,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},console.log(t),e.next=11,fetch("/test/score",s);case 11:l=e.sent,console.log(l);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startTimer",value:function(){var e=this,t=setInterval((function(){e.setState({seconds:e.state.seconds+.05,wpm:(e.state.input.length-e.state.errors)/5/(e.state.seconds/60)===1/0?999:(e.state.input.length-e.state.errors)/5/(e.state.seconds/60)<0?0:(e.state.input.length-e.state.errors)/5/(e.state.seconds/60),accuracy:(e.state.input.length-e.state.errors)/e.state.input.length*100<0?0:(e.state.input.length-e.state.errors)/e.state.input.length*100}),!1===e.state.runTimer&&(e.state.loggedIn&&e.state.input.length===e.state.typingText.length&&e.sendData(),clearInterval(t))}),50)}},{key:"toggleRunTimerCallback",value:function(e){var t=this;this.setState({runTimer:e},(function(){!0===t.state.runTimer&&t.startTimer()}))}},{key:"inputCallback",value:function(e){if("Backspace"===e)this.setState({input:this.state.input.slice(0,this.state.input.length-1)});else if("object"===typeof e){if("Control"===e[e.length-2]&&"Backspace"===e[e.length-1]){for(var t=this.state.input,a=t.length-1;a>=0;a--)if(" "===t[a]||0===a){t=t.slice(0,0===a?a:a+1);break}this.setState({input:t})}}else this.setState({input:this.state.input+e})}},{key:"errorsCallback",value:function(e){this.setState({errors:e})}},{key:"handledErrorsCallback",value:function(e){var t=this.state.handledErrors;t.push(e),this.setState({handledErrors:t})}},{key:"handlePasteCallback",value:function(e){var t=e;t=t.replace(/(\r\n|\n|\r)/gm," "),this.setState({typingText:t}),this.resetTest()}},{key:"handleNextTextCallback",value:function(){var e=Math.floor(Math.random()*(this.state.sampleTexts.length-1))+1;this.setState({typingText:this.state.sampleTexts[e]===this.state.typingText?this.state.sampleTexts[e]===this.state.sampleTexts[this.state.sampleTexts.length-1]?this.state.sampleTexts[e-1]:this.state.sampleTexts[e+1]:this.state.sampleTexts[e]}),this.resetTest()}},{key:"muteCallback",value:function(e){this.setState({mute:e})}},{key:"autoStopCallback",value:function(e){this.setState({autoStop:e})}},{key:"boxCallback",value:function(e){this.setState({box:e})}},{key:"boxInputCallback",value:function(e,t){var a=this;0==this.state.input.length&&this.toggleRunTimerCallback(!0),this.state.input.length<this.state.typingText.length&&("set"===t?this.setState({input:this.state.input.slice(0,this.state.input.lastIndexOf(" ")+1)+e},(function(){a.state.input.length===a.state.typingText.length&&(a.state.input[a.state.input.length-1]!==a.state.typingText[a.state.typingText.length-1]?a.setState({errors:a.state.errors+1},(function(){a.setState({seconds:a.state.seconds+.05,wpm:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60)===1/0?999:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60)<0?0:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60),accuracy:(a.state.input.length-a.state.errors)/a.state.input.length*100<0?0:(a.state.input.length-a.state.errors)/a.state.input.length*100},(function(){a.toggleRunTimerCallback(!1)}))})):a.setState({seconds:a.state.seconds+.05,wpm:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60)===1/0?999:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60)<0?0:(a.state.input.length-a.state.errors)/5/(a.state.seconds/60),accuracy:(a.state.input.length-a.state.errors)/a.state.input.length*100<0?0:(a.state.input.length-a.state.errors)/a.state.input.length*100},(function(){a.toggleRunTimerCallback(!1)})),document.getElementsByClassName("input-box").item(0).disabled=!0)})):"append"===t&&this.setState({input:this.state.input+e},(function(){a.state.input.length===a.state.typingText.length&&(a.toggleRunTimerCallback(!1),a.state.input[a.state.input.length-1]!==a.state.typingText[a.state.typingText.length-1]?document.getElementsByClassName("letter").item(document.getElementsByClassName("letter").length-1).className="letter-error":document.getElementsByClassName("letter").item(document.getElementsByClassName("letter").length-1).className="letter-finished",document.getElementsByClassName("input-box").item(0).disabled=!0)})))}},{key:"cursorFilledCallback",value:function(e){this.setState({cursorFilled:e},(function(){0!==document.getElementsByClassName("letter-active").length&&(e?(document.getElementsByClassName("letter-active").item(0).style.backgroundColor="transparent",document.getElementsByClassName("letter-active").item(0).style.color="var(--cursor-color)"):(document.getElementsByClassName("letter-active").item(0).style.backgroundColor="var(--cursor-color)",document.getElementsByClassName("letter-active").item(0).style.color="transparent"))}))}},{key:"errorsFilledCallback",value:function(e){this.setState({errorsFilled:e})}},{key:"setCredentials",value:function(e){this.setState({credentials:e})}},{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(W.a,{children:[Object(g.jsxs)("div",{className:"title",children:[Object(g.jsx)("img",{src:K,height:"80%",style:{paddingTop:"13px",marginRight:"-10px",marginLeft:"15px"}}),Object(g.jsx)(W.b,{to:"/",children:Object(g.jsx)("p",{style:{display:"inline-block"},children:"Typing Bunny"})}),Object(g.jsx)("div",{className:"title-buttons-container",children:Object(g.jsx)("a",{className:"title-button",style:{marginLeft:"0px"},href:"https://github.com/FarzanAli/custom-typing-test",children:Object(g.jsx)(S.a,{style:{width:"50%",height:"50%"}})})})]}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)(T,{mute:this.state.mute,autoStopCallback:this.autoStopCallback.bind(this),autoStop:this.state.autoStop,boxCallback:this.boxCallback.bind(this),box:this.state.box,cursorFilledCallback:this.cursorFilledCallback.bind(this),cursorFilled:this.state.cursorFilled,errorsFilledCallback:this.errorsFilledCallback.bind(this),errorsFilled:this.state.errorsFilled}),Object(g.jsxs)("div",{className:"minibar-container",children:[Object(g.jsx)(P,{muteCallback:this.muteCallback.bind(this)}),Object(g.jsx)(L,{mute:this.state.mute}),Object(g.jsx)(Z,{})]}),Object(g.jsxs)("div",{className:"main-content",children:[Object(g.jsx)(Q.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),Object(g.jsxs)(z.d,{children:[Object(g.jsxs)(z.b,{exact:!0,path:"/",children:[Object(g.jsx)(U,{wpm:this.state.wpm,accuracy:this.state.accuracy,handlePasteCallback:this.handlePasteCallback.bind(this),handleNextTextCallback:this.handleNextTextCallback.bind(this),restartCallback:this.resetTest.bind(this)}),Object(g.jsx)($,{input:this.state.input,typingText:this.state.typingText,seconds:this.state.seconds,handledErrors:this.state.handledErrors,runTimer:this.state.runTimer,errors:this.state.errors,autoStop:this.state.autoStop,box:this.state.box,toggleRunTimerCallback:this.toggleRunTimerCallback.bind(this),inputCallback:this.inputCallback.bind(this),errorsCallback:this.errorsCallback.bind(this),handledErrorsCallback:this.handledErrorsCallback.bind(this)}),!0===this.state.box&&Object(g.jsx)(G,{input:this.state.input,typingText:this.state.typingText,boxInputCallback:this.boxInputCallback.bind(this)})]}),Object(g.jsx)(z.b,{path:"/account",children:this.state.loggedIn?Object(g.jsx)(te,{handleLogout:this.handleLogout.bind(this),credentials:this.state.credentials}):Object(g.jsx)(z.a,{to:"/login"})}),Object(g.jsx)(z.b,{path:"/login",children:this.state.loggedIn?Object(g.jsx)(z.a,{to:"/account"}):Object(g.jsx)(X,{setCredentials:this.setCredentials.bind(this),handleLogin:this.handleLogin.bind(this)})})]})]})]})]})})}}]),a}(u.Component);h.a.render(Object(g.jsx)(ae,{}),document.getElementById("root"))},76:function(e,t,a){}},[[240,1,2]]]);
//# sourceMappingURL=main.1df7f5eb.chunk.js.map